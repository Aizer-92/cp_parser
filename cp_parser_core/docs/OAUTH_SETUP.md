# OAuth Setup –¥–ª—è Google Sheets - –ß–ò–°–¢–û–ï –†–ï–®–ï–ù–ò–ï

## –ü—Ä–æ–±–ª–µ–º–∞ Service Account:
- ‚ùå Service Account –∏–º–µ–µ—Ç 0GB –∫–≤–æ—Ç—ã
- ‚ùå –ù–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã
- ‚ùå –î–∞–∂–µ –≤ —Ä–∞—Å—à–∞—Ä–µ–Ω–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: OAuth Credentials

**OAuth = –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –û–¢ –¢–í–û–ï–ì–û –∏–º–µ–Ω–∏**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¢–í–û–Æ –∫–≤–æ—Ç—É (15GB+)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã –∫–∞–∫ –¢–´
- ‚úÖ –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ë–ï–ó –∫–æ—Å—Ç—ã–ª–µ–π!

---

## üìù –ù–ê–°–¢–†–û–ô–ö–ê (10 –º–∏–Ω—É—Ç):

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π OAuth Client ID

1. –û—Ç–∫—Ä–æ–π Google Cloud Console:
   ```
   https://console.cloud.google.com/apis/credentials?project=quickstart-1591698112539
   ```

2. –ö–ª–∏–∫–Ω–∏ **"+ CREATE CREDENTIALS"** ‚Üí **"OAuth client ID"**

3. **Application type:** Desktop app

4. **Name:** CP Parser Desktop

5. –ö–ª–∏–∫–Ω–∏ **"CREATE"**

6. –°–∫–∞—á–∞–π JSON —Ñ–∞–π–ª (–∫–Ω–æ–ø–∫–∞ **‚¨á Download JSON**)

7. –°–æ—Ö—Ä–∞–Ω–∏ –∫–∞–∫: `oauth_credentials.json` –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π OAuth Consent Screen (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

1. –í–µ—Ä–Ω–∏—Å—å –≤: https://console.cloud.google.com/apis/credentials/consent?project=quickstart-1591698112539

2. **User Type:** External

3. –ó–∞–ø–æ–ª–Ω–∏:
   - **App name:** CP Parser
   - **User support email:** —Ç–≤–æ–π email
   - **Developer contact:** —Ç–≤–æ–π email

4. **Scopes:** 
   - Add: `https://www.googleapis.com/auth/drive`
   - Add: `https://www.googleapis.com/auth/spreadsheets`

5. **Test users:**
   - Add: —Ç–≤–æ–π email (—Ç–æ—Ç –∂–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –¥–ª—è Google)

6. Save and Continue

7. **–°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:** Testing (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

### –®–∞–≥ 3: –ü–µ—Ä–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ª–æ–∫–∞–ª—å–Ω–æ)

–ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```bash
cd /Users/bakirovresad/Downloads/Reshad\ 1/projects/cp_parser
python3 oauth_authorize.py
```

–°–∫—Ä–∏–ø—Ç:
1. –û—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä
2. –ü–æ–ø—Ä–æ—Å–∏—Ç –≤—ã–±—Ä–∞—Ç—å Google –∞–∫–∫–∞—É–Ω—Ç
3. –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "App not verified" - –∫–ª–∏–∫–Ω–∏ **"Advanced"** ‚Üí **"Go to CP Parser (unsafe)"**
4. –î–∞–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç `token.json` –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 4: –î–æ–±–∞–≤—å token –Ω–∞ Railway

Railway ‚Üí Variables:
```
GOOGLE_OAUTH_TOKEN=[—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ token.json]
```

### –®–∞–≥ 5: –ì–æ—Ç–æ–≤–æ! üéâ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –û–¢ –¢–í–û–ï–ì–û –∏–º–µ–Ω–∏!
- –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ —Ç–≤–æ–µ–º Drive
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–≤–æ—é –∫–≤–æ—Ç—É
- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:

**OAuth token = –¥–æ—Å—Ç—É–ø –∫ —Ç–≤–æ–µ–º—É Drive!**

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:**
- Token —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ –∫–æ–¥–µ)
- Railway Variables –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- –¢–æ–ª—å–∫–æ —Ç–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø

‚ùå **–ù–ï –¥–µ–ª–∞–π:**
- –ù–µ –ø—É–±–ª–∏–∫—É–π token –≤ GitHub
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

**–ï—Å–ª–∏ token —É–∫—Ä–∞–ª–∏:**
1. –û—Ç–∫—Ä–æ–π: https://myaccount.google.com/permissions
2. –ù–∞–π–¥–∏ "CP Parser"
3. –ö–ª–∏–∫–Ω–∏ "Remove access"
4. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π token

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤:

| | Service Account | OAuth | Apps Script |
|---|---|---|---|
| **–ö–≤–æ—Ç–∞** | 0GB ‚ùå | –¢–≤–æ—è ‚úÖ | –¢–≤–æ—è ‚úÖ |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | –ü—Ä–æ—Å—Ç–∞—è | –°—Ä–µ–¥–Ω—è—è | –°–ª–æ–∂–Ω–∞—è |
| **–ö–æ—Å—Ç—ã–ª–∏** | –ù–µ—Ç | –ù–µ—Ç ‚úÖ | –î–∞ |
| **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** | –ü–æ–ª–Ω–∞—è | –ü–æ–ª–Ω–∞—è ‚úÖ | –ü–æ–ª–Ω–∞—è |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |

**OAuth = –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å!** ‚úÖ

---

## ‚ùì FAQ:

**Q: –ù—É–∂–Ω–æ –ª–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è?**
A: –ù–µ—Ç! –¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑. Token —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ.

**Q: Token –∏—Å—Ç–µ–∫–∞–µ—Ç?**
A: Refresh token –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –†–∞–±–æ—Ç–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø?**
A: –î–∞, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç: https://myaccount.google.com/permissions

**Q: –§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç –º–æ–µ–≥–æ –∏–º–µ–Ω–∏?**
A: –î–∞! –ö–∞–∫ –±—É–¥—Ç–æ —Ç—ã —Å–∞–º –∏—Ö —Å–æ–∑–¥–∞–ª.

**Q: –ö–≤–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è?**
A: –î–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–≤–æ—è –∫–≤–æ—Ç–∞ (15GB –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –∏–ª–∏ –±–æ–ª—å—à–µ –µ—Å–ª–∏ –∫—É–ø–∏—à—å).

---

## üöÄ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth:
- Service Account –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- –§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–∏—Å—Ç–æ, –±–µ–∑ –∫–æ—Å—Ç—ã–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–≤–æ—è –∫–≤–æ—Ç–∞
- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π, —á–∏—Å—Ç—ã–π –ø–æ–¥—Ö–æ–¥ Google!** ‚úÖ

