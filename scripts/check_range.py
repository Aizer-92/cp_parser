#!/usr/bin/env python3
"""
–¢–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–ª–æ–≤—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è Personal Super Agent

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
    python3 check_range.py value min max [value2 min2 max2 ...]
    
–ü—Ä–∏–º–µ—Ä—ã:
    python3 check_range.py 185 125 200
    python3 check_range.py 185 125 200 92 70 100
    
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏–∑–±–µ–≥–∞–µ—Ç –æ—à–∏–±–æ–∫ LLM –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö,
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è:
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –ë—é–¥–∂–µ—Ç–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤  
- –¶–µ–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –õ—é–±—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
"""

import sys
import argparse

def check_range(value, min_val, max_val):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.
    
    Args:
        value (float): –ü—Ä–æ–≤–µ—Ä—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        min_val (float): –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
        max_val (float): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
        
    Returns:
        bool: True –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ, False –∏–Ω–∞—á–µ
    """
    return min_val <= value <= max_val

def format_result(value, min_val, max_val, in_range):
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —á–∏—Ç–∞–µ–º–æ–≥–æ –≤—ã–≤–æ–¥–∞."""
    status = "‚úÖ –í –¥–∏–∞–ø–∞–∑–æ–Ω–µ" if in_range else "‚ùå –í–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"
    return f"{value:8.1f} | [{min_val:8.1f} - {max_val:8.1f}] | {status}"

def main():
    if len(sys.argv) < 4:
        print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: python3 check_range.py value min max [value2 min2 max2 ...]")
        print("–ü—Ä–∏–º–µ—Ä: python3 check_range.py 185 125 200")
        sys.exit(1)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫—Ä–∞—Ç–Ω–æ 3
    args = sys.argv[1:]
    if len(args) % 3 != 0:
        print("–û—à–∏–±–∫–∞: –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: value min max")
        print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Ç–Ω–æ 3")
        sys.exit(1)
    
    try:
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–∞
        numbers = [float(arg) for arg in args]
        
        print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞:")
        print("=" * 50)
        
        all_in_range = True
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç—Ä–æ–π–∫–∏ (value, min, max)
        for i in range(0, len(numbers), 3):
            value = numbers[i]
            min_val = numbers[i + 1]
            max_val = numbers[i + 2]
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω–∞
            if min_val > max_val:
                print(f"–û—à–∏–±–∫–∞: –ú–∏–Ω–∏–º—É–º ({min_val}) –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞ ({max_val})")
                sys.exit(1)
            
            in_range = check_range(value, min_val, max_val)
            if not in_range:
                all_in_range = False
            
            print(format_result(value, min_val, max_val, in_range))
        
        print("=" * 50)
        
        # –û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if all_in_range:
            print("‚úÖ –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–æ—Ä–º–µ")
            sys.exit(0)
        else:
            print("‚ö†Ô∏è  –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞")
            sys.exit(1)
            
    except ValueError as e:
        print(f"–û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ —á–∏—Å–ª–∞ - {e}")
        sys.exit(1)
    except Exception as e:
        print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
        sys.exit(1)

if __name__ == "__main__":
    main()
