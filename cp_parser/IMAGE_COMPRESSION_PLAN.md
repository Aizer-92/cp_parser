# –ü–ª–∞–Ω –ø–æ —Å–∂–∞—Ç–∏—é –æ–±–ª–∞—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –í—Å–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: **15,172**
- –¢–æ–≤–∞—Ä–æ–≤ —Å —Ñ–æ—Ç–æ: **4,005**
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: **Beget Cloud S3** (`s3.ru1.storage.beget.cloud`)
- –§–æ—Ä–º–∞—Ç: PNG (–±–µ–∑ —Å–∂–∞—Ç–∏—è)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- PNG —Ñ–∞–π–ª—ã –∏–∑ Google Sheets —á–∞—Å—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–µ (5-20 MB)
- –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –≤–µ–±-–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ UI
- –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ç—Ä–∞—Ñ–∏–∫–∞

---

## üéØ –¶–µ–ª–∏ —Å–∂–∞—Ç–∏—è

1. **–£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: 70-90% —ç–∫–æ–Ω–æ–º–∏–∏
2. **–£—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É UI**: –±—ã—Å—Ç—Ä–µ–µ –æ—Ç–∫–ª–∏–∫
3. **–°–Ω–∏–∑–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã**: –º–µ–Ω—å—à–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ —Ç—Ä–∞—Ñ–∏–∫–∞
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ**: –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ–æ—Ç–ª–∏—á–∏–º–æ

**–¶–µ–ª–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –§–æ—Ä–º–∞—Ç: **WebP** (–ª—É—á—à–µ–µ —Å–∂–∞—Ç–∏–µ)
- –ö–∞—á–µ—Å—Ç–≤–æ: **85** (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å)
- –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä: **1920x1920px** (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è UI)
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **100-300 KB** (–≤–º–µ—Å—Ç–æ 5+ MB)

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### **–≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞**

1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤**
   - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ S3
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ–ø-100 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –û—Ü–µ–Ω–∏—Ç—å –æ–±—â–∏–π –æ–±—ä–µ–º –¥–ª—è —Å–∂–∞—Ç–∏—è
   
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—ã–±–æ—Ä–∫–µ**
   - –í–∑—è—Ç—å 10-20 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∂–∞—Ç–∏—è:
     - WebP quality: 75, 85, 90
     - JPEG quality: 80, 85, 90
     - Resize: 1920px, 2048px
   - –°—Ä–∞–≤–Ω–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É
   - –í—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

3. **–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø**
   - –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ò–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –æ—Ä–∏–≥–∏–Ω–∞–ª ‚Üí —Å–∂–∞—Ç—ã–π

---

### **–≠—Ç–∞–ø 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**

**–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**

1. **`analyze_images.py`**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ S3 (Beget Cloud)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Ä–∞–∑–º–µ—Ä, —Ñ–æ—Ä–º–∞—Ç, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
   - –û—Ç—á–µ—Ç: —Ç–æ–ø —Ç—è–∂–µ–ª—ã—Ö —Ñ–∞–π–ª–æ–≤, –æ–±—â–∏–π –æ–±—ä–µ–º

2. **`compress_images.py`**
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ S3
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ WebP —Å quality=85
   - Resize –µ—Å–ª–∏ > 1920px
   - –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ S3 (–Ω–æ–≤–æ–µ –∏–º—è –∏–ª–∏ –∑–∞–º–µ–Ω–∞)
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ batch –æ–±—Ä–∞–±–æ—Ç–∫–∏

3. **`update_image_urls.py`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `image_url` –≤ –ë–î
   - –ó–∞–º–µ–Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: `.png` ‚Üí `.webp`
   - –ò–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å–∞: `_compressed.webp`
   - Batch UPDATE –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

4. **`verify_compression.py`**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–æ/–ø–æ—Å–ª–µ
   - –û—Ç—á–µ—Ç –ø–æ —ç–∫–æ–Ω–æ–º–∏–∏

---

### **–≠—Ç–∞–ø 3: –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

**–í–∞—Ä–∏–∞–Ω—Ç A: –ó–∞–º–µ–Ω–∞ –Ω–∞ –º–µ—Å—Ç–µ (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π)**
```
–û—Ä–∏–≥–∏–Ω–∞–ª: image_abc123.png (5 MB)
–°–∂–∞—Ç—ã–π:   image_abc123.png (300 KB) ‚Üê –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º
```
‚úÖ –ü–ª—é—Å—ã: –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ë–î, –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞
‚ùå –ú–∏–Ω—É—Å—ã: –æ—Ä–∏–≥–∏–Ω–∞–ª—ã —Ç–µ—Ä—è—é—Ç—Å—è, –Ω–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å

**–í–∞—Ä–∏–∞–Ω—Ç B: –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π)** ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
```
–û—Ä–∏–≥–∏–Ω–∞–ª: image_abc123.png (5 MB) ‚Üê –æ—Å—Ç–∞–≤–ª—è–µ–º
–°–∂–∞—Ç—ã–π:   image_abc123.webp (300 KB) ‚Üê –Ω–æ–≤—ã–π —Ñ–∞–π–ª
```
‚úÖ –ü–ª—é—Å—ã: –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å, –æ—Ä–∏–≥–∏–Ω–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
‚úÖ –ü–ª—é—Å—ã: –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å
‚ùå –ú–∏–Ω—É—Å—ã: –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ë–î, –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–≤–æ–π–Ω–æ–π –æ–±—ä–µ–º

**–í–∞—Ä–∏–∞–Ω—Ç C: –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ (–≥–∏–±—Ä–∏–¥–Ω—ã–π)**
```
–û—Ä–∏–≥–∏–Ω–∞–ª: /images/image_abc123.png (5 MB)
–°–∂–∞—Ç—ã–π:   /images/compressed/image_abc123.webp (300 KB)
```
‚úÖ –ü–ª—é—Å—ã: —á–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —É–¥–æ–±–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å
‚úÖ –ü–ª—é—Å—ã: –ª–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å
‚ùå –ú–∏–Ω—É—Å—ã: –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ë–î

---

### **–≠—Ç–∞–ø 4: –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**

#### **–®–∞–≥ 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 —á–∞—Å–∞)**
```bash
# –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
python3 analyze_images.py

# –¢–µ—Å—Ç –Ω–∞ 20 —Ñ–∞–π–ª–∞—Ö
python3 compress_images.py --test --limit 20

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
python3 verify_compression.py --test
```

#### **–®–∞–≥ 2: –ü–∏–ª–æ—Ç–Ω–∞—è –ø–∞—Ä—Ç–∏—è (2-3 —á–∞—Å–∞)**
```bash
# –°–∂–∞—Ç—å 500 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
python3 compress_images.py --batch --limit 500 --largest

# –û–±–Ω–æ–≤–∏—Ç—å –ë–î –¥–ª—è —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤
python3 update_image_urls.py --batch --limit 500

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ UI
# –í–∏–∑—É–∞–ª—å–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ –û–ö
```

#### **–®–∞–≥ 3: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (6-8 —á–∞—Å–æ–≤)**
```bash
# –°–∂–∞—Ç—å –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è ~14,700 —Ñ–∞–π–ª–æ–≤
python3 compress_images.py --batch --all

# Batch UPDATE –≤ –ë–î
python3 update_image_urls.py --batch --all

# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python3 verify_compression.py --full
```

#### **–®–∞–≥ 4: –û—á–∏—Å—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
# –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ - —É–¥–∞–ª–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—ã PNG
python3 cleanup_originals.py --dry-run
python3 cleanup_originals.py --execute
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**
```python
pip install Pillow  # –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
pip install boto3   # –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3
```

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∂–∞—Ç–∏—è**
```python
from PIL import Image

# –û—Ç–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
img = Image.open('original.png')

# Resize –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ
max_size = 1920
if img.width > max_size or img.height > max_size:
    img.thumbnail((max_size, max_size), Image.Resampling.LANCZOS)

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ WebP
img.save('compressed.webp', 
         format='WebP',
         quality=85,        # 85 = –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
         method=6,          # 6 = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
         lossless=False)    # lossy –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
```

### **Beget S3 Connection**
```python
import boto3

# Credentials –∏–∑ Beget –ø–∞–Ω–µ–ª–∏
s3 = boto3.client(
    's3',
    endpoint_url='https://s3.ru1.storage.beget.cloud',
    aws_access_key_id='YOUR_KEY',
    aws_secret_access_key='YOUR_SECRET',
    region_name='ru-1'
)

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
response = s3.list_objects_v2(
    Bucket='73d16f7545b3-promogoods',
    Prefix='images/'
)

# –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
s3.download_file('73d16f7545b3-promogoods', 'images/file.png', 'local.png')

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
s3.upload_file('compressed.webp', '73d16f7545b3-promogoods', 'images/file.webp')
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞**
```
–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä (–æ—Ü–µ–Ω–∫–∞):
  15,172 —Ñ–∞–π–ª–æ–≤ √ó 3 MB —Å—Ä–µ–¥–Ω–∏–π = ~45 GB

–ü–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è:
  15,172 —Ñ–∞–π–ª–æ–≤ √ó 200 KB —Å—Ä–µ–¥–Ω–∏–π = ~3 GB

–≠–ö–û–ù–û–ú–ò–Ø: ~42 GB (93%)
```

### **–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏**
```
–ó–∞–≥—Ä—É–∑–∫–∞ 1 —Ñ–æ—Ç–æ PNG:  5 MB √∑ 100 Mbps = 0.4 —Å–µ–∫
–ó–∞–≥—Ä—É–∑–∫–∞ 1 —Ñ–æ—Ç–æ WebP: 200 KB √∑ 100 Mbps = 0.016 —Å–µ–∫

–£–°–ö–û–†–ï–ù–ò–ï: 25x –±—ã—Å—Ç—Ä–µ–µ
```

### **–°—Ç–æ–∏–º–æ—Å—Ç—å**
```
Beget S3 pricing (–ø—Ä–∏–º–µ—Ä–Ω–æ):
  –•—Ä–∞–Ω–µ–Ω–∏–µ: ~100‚ÇΩ/GB/–º–µ—Å—è—Ü
  –¢—Ä–∞—Ñ–∏–∫: ~5‚ÇΩ/GB

–≠–∫–æ–Ω–æ–º–∏—è –≤ –º–µ—Å—è—Ü:
  –•—Ä–∞–Ω–µ–Ω–∏–µ: 42 GB √ó 100‚ÇΩ = 4,200‚ÇΩ
  –¢—Ä–∞—Ñ–∏–∫: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

### **–†–∏—Å–∫ 1: –ü–æ—Ç–µ—Ä—è –∫–∞—á–µ—Å—Ç–≤–∞**
**–†–µ—à–µ–Ω–∏–µ:**
- –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞ –≤—ã–±–æ—Ä–∫–µ
- Quality 85 = –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ–æ—Ç–ª–∏—á–∏–º–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –≤—Ä–µ–º–µ–Ω–Ω–æ

### **–†–∏—Å–∫ 2: –ü—Ä–æ–±–ª–µ–º—ã —Å S3**
**–†–µ—à–µ–Ω–∏–µ:**
- Rate limiting (–ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)
- Retry –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### **–†–∏—Å–∫ 3: –û—à–∏–±–∫–∏ –≤ –ë–î**
**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø —Ç–∞–±–ª–∏—Ü—ã `product_images`
- Transaction –¥–ª—è batch UPDATE
- –°–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### **–†–∏—Å–∫ 4: Broken images –≤ UI**
**–†–µ—à–µ–Ω–∏–µ:**
- Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –µ—Å–ª–∏ WebP –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ UPDATE –≤ –ë–î
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–Ω–µ –≤—Å–µ —Å—Ä–∞–∑—É)

---

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (—Å–∂–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å)
1. –°–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>5 MB)
2. –ß–∞—Å—Ç–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–µ —Ç–æ–≤–∞—Ä—ã
3. –ì–ª–∞–≤–Ω—ã–µ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤

### **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**
4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ
5. –§–∞–π–ª—ã —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (1-5 MB)

### **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**
6. –£–∂–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ–∞–π–ª—ã (<500 KB)
7. –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## üìù Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –ü–æ–ª—É—á–µ–Ω—ã S3 credentials –æ—Ç Beget
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Pillow, boto3)
- [ ] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø —Ç–∞–±–ª–∏—Ü—ã `product_images`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 20 —Ñ–∞–π–ª–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–∑—É–∞–ª—å–Ω–æ
- [ ] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–í–∞—Ä–∏–∞–Ω—Ç B —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–ª—É—á–∏—Ç—å S3 credentials** –æ—Ç Beget –ø–∞–Ω–µ–ª–∏
2. **–°–æ–∑–¥–∞—Ç—å `analyze_images.py`** –¥–ª—è –æ—Ü–µ–Ω–∫–∏
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ 20 —Ñ–∞–π–ª–∞—Ö
4. **–ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ** –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∏–ª–æ—Ç–Ω—É—é –ø–∞—Ä—Ç–∏—é** (500 —Ñ–∞–π–ª–æ–≤)
6. **–ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ë—É–¥—É—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è thumbnails (200x200px) –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
- Lazy loading –≤ UI
- CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
- Responsive images (—Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
- Progressive WebP (–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —á–∞—Å—Ç—è–º)

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - —Å—Ä–∞–∑—É —Å–∂–∏–º–∞—Ç—å
- Cronjob –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Pillow Documentation](https://pillow.readthedocs.io/)
- [WebP Compression Guide](https://developers.google.com/speed/webp)
- [Boto3 S3 Documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html)
- [Beget S3 API](https://beget.com/ru/kb/api/s3-api)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 12.10.2025
**–ê–≤—Ç–æ—Ä**: AI Assistant
**–°—Ç–∞—Ç—É—Å**: üìã –ü–ª–∞–Ω –≥–æ—Ç–æ–≤, –∂–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏



