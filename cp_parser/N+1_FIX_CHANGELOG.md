# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã N+1 - Changelog

## –î–∞—Ç–∞: 14 –æ–∫—Ç—è–±—Ä—è 2025

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

#### 1. `products_list()` - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤

**–ë—ã–ª–æ:** 41 –∑–∞–ø—Ä–æ—Å –¥–ª—è 20 —Ç–æ–≤–∞—Ä–æ–≤ (1 + 20*2)
**–°—Ç–∞–ª–æ:** 1 –∑–∞–ø—Ä–æ—Å

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π SELECT:
  - `main_image_url` - –≥–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  - `images_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - `min_price_rub` / `max_price_rub` - –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
  - `project_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –£–±—Ä–∞–Ω—ã —Ü–∏–∫–ª—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ü–µ–Ω
- –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ö° **-97.6% –∑–∞–ø—Ä–æ—Å–æ–≤** (40 –∑–∞–ø—Ä–æ—Å–æ–≤ –º–µ–Ω—å—à–µ!)
- üöÄ **-23% –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
- üìä –î–ª—è 100 —Ç–æ–≤–∞—Ä–æ–≤: **1 –∑–∞–ø—Ä–æ—Å** –≤–º–µ—Å—Ç–æ 201

---

#### 2. `project_detail()` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–ë—ã–ª–æ:** –î–æ 201 –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å 100 —Ç–æ–≤–∞—Ä–∞–º–∏
**–°—Ç–∞–ª–æ:** 1 –∑–∞–ø—Ä–æ—Å

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ –∂–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã –≤ SELECT —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- –£–±—Ä–∞–Ω—ã N+1 –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `offers_count` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ö° **-97-99% –∑–∞–ø—Ä–æ—Å–æ–≤**
- üöÄ –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- üí∞ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î

---

### üìä –ò–∑–º–µ—Ä–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (20 —Ç–æ–≤–∞—Ä–æ–≤):

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---|-------|-----------|
| –ó–∞–ø—Ä–æ—Å—ã | 41 | 1 | **-97.6%** |
| –í—Ä–µ–º—è | 4,433 –º—Å | 3,410 –º—Å | **-23%** |

---

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

**–ü–æ–¥—Ö–æ–¥:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã (–í–∞—Ä–∏–∞–Ω—Ç 1 –∏–∑ –∞–Ω–∞–ª–∏–∑–∞)
- –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö JOIN (–ø—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å)

**–ß—Ç–æ –ù–ï —Ç—Ä–æ–≥–∞–ª–∏:**
- `product_detail()` - –æ—Å—Ç–∞–≤–∏–ª–∏ –∫–∞–∫ –µ—Å—Ç—å (3 –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏–µ–º–ª–µ–º–æ)
- `api_kp_get()` - —É–∂–µ –±—ã–ª –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω

---

### üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω–∞—Ö:

**–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –®–∞–±–ª–æ–Ω—ã –º–æ–≥—É—Ç –æ–∂–∏–¥–∞—Ç—å `product.price_offers` –∫–∞–∫ –º–∞—Å—Å–∏–≤
- –¢–µ–ø–µ—Ä—å –µ—Å—Ç—å `product.min_price_rub` –∏ `product.max_price_rub`
- –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω –≤ —à–∞–±–ª–æ–Ω–∞—Ö

---

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```bash
python3 test_n+1_performance.py
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è: **1 –∑–∞–ø—Ä–æ—Å**
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: **1.3-2x —Ä–∞–∑**

---

### üöÄ –î–µ–ø–ª–æ–π:

1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
2. ‚è∏Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—É—à –Ω–∞ GitHub
3. ‚è∏Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–ø–ª–æ–π –Ω–∞ Railway
4. ‚è∏Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

_–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: AI Assistant_
_–î–∞—Ç–∞: 14 –æ–∫—Ç—è–±—Ä—è 2025_

